{
  "version": 3,
  "sources": ["../../src/lib/defaultSideEffects.ts"],
  "sourcesContent": ["import { Editor } from '@tldraw/editor'\n\nexport function registerDefaultSideEffects(editor: Editor) {\n\treturn editor.sideEffects.registerAfterChangeHandler('instance_page_state', (prev, next) => {\n\t\tif (prev.croppingShapeId !== next.croppingShapeId) {\n\t\t\tconst isInCroppingState = editor.isInAny(\n\t\t\t\t'select.crop',\n\t\t\t\t'select.pointing_crop_handle',\n\t\t\t\t'select.cropping'\n\t\t\t)\n\t\t\tif (!prev.croppingShapeId && next.croppingShapeId) {\n\t\t\t\tif (!isInCroppingState) {\n\t\t\t\t\teditor.setCurrentTool('select.crop.idle')\n\t\t\t\t}\n\t\t\t} else if (prev.croppingShapeId && !next.croppingShapeId) {\n\t\t\t\tif (isInCroppingState) {\n\t\t\t\t\teditor.setCurrentTool('select.idle')\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (prev.editingShapeId !== next.editingShapeId) {\n\t\t\tif (!prev.editingShapeId && next.editingShapeId) {\n\t\t\t\tif (!editor.isIn('select.editing_shape')) {\n\t\t\t\t\teditor.setCurrentTool('select.editing_shape')\n\t\t\t\t}\n\t\t\t} else if (prev.editingShapeId && !next.editingShapeId) {\n\t\t\t\tif (editor.isIn('select.editing_shape')) {\n\t\t\t\t\teditor.setCurrentTool('select.idle')\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t})\n}\n"],
  "mappings": "AAEO,SAAS,2BAA2B,QAAgB;AAC1D,SAAO,OAAO,YAAY,2BAA2B,uBAAuB,CAAC,MAAM,SAAS;AAC3F,QAAI,KAAK,oBAAoB,KAAK,iBAAiB;AAClD,YAAM,oBAAoB,OAAO;AAAA,QAChC;AAAA,QACA;AAAA,QACA;AAAA,MACD;AACA,UAAI,CAAC,KAAK,mBAAmB,KAAK,iBAAiB;AAClD,YAAI,CAAC,mBAAmB;AACvB,iBAAO,eAAe,kBAAkB;AAAA,QACzC;AAAA,MACD,WAAW,KAAK,mBAAmB,CAAC,KAAK,iBAAiB;AACzD,YAAI,mBAAmB;AACtB,iBAAO,eAAe,aAAa;AAAA,QACpC;AAAA,MACD;AAAA,IACD;AAEA,QAAI,KAAK,mBAAmB,KAAK,gBAAgB;AAChD,UAAI,CAAC,KAAK,kBAAkB,KAAK,gBAAgB;AAChD,YAAI,CAAC,OAAO,KAAK,sBAAsB,GAAG;AACzC,iBAAO,eAAe,sBAAsB;AAAA,QAC7C;AAAA,MACD,WAAW,KAAK,kBAAkB,CAAC,KAAK,gBAAgB;AACvD,YAAI,OAAO,KAAK,sBAAsB,GAAG;AACxC,iBAAO,eAAe,aAAa;AAAA,QACpC;AAAA,MACD;AAAA,IACD;AAAA,EACD,CAAC;AACF;",
  "names": []
}
