{
  "version": 3,
  "sources": ["../src/fixup.ts"],
  "sourcesContent": ["import { SerializedStore } from '@tldraw/store'\nimport { Vec2dModel } from './misc/geometry-types'\nimport { TLRecord } from './records/TLRecord'\n\n/** @internal */\nexport function CLIENT_FIXUP_SCRIPT(persistedStore: SerializedStore<TLRecord>) {\n\tconst records = Object.values(persistedStore)\n\n\tfor (let i = 0; i < records.length; i++) {\n\t\tif (!records[i]) continue\n\n\t\tconst { record } = fixupRecord(records[i])\n\n\t\tif (record) {\n\t\t\tpersistedStore[records[i].id] = record\n\t\t} else {\n\t\t\tdelete persistedStore[records[i].id]\n\t\t}\n\t}\n\n\treturn persistedStore\n}\n\n/** @internal */\nexport function fixupRecord(oldRecord: TLRecord) {\n\tconst issues: string[] = []\n\n\tlet record = JSON.parse(JSON.stringify(oldRecord))\n\n\tswitch (record.typeName) {\n\t\tcase 'user_presence': {\n\t\t\tif (!record.cursor) {\n\t\t\t\tissues.push('no cursor')\n\t\t\t\trecord.cursor = { x: 0, y: 0 }\n\t\t\t}\n\n\t\t\tif (record.cursor.x === undefined || record.cursor.x === null) {\n\t\t\t\tissues.push('no cursor x')\n\t\t\t\trecord.cursor.x = 0\n\t\t\t}\n\t\t\tif (record.cursor.y === undefined || record.cursor.y === null) {\n\t\t\t\tissues.push('no cursor y')\n\t\t\t\trecord.cursor.y = 0\n\t\t\t}\n\n\t\t\tbreak\n\t\t}\n\n\t\tcase 'asset': {\n\t\t\tswitch (record.type) {\n\t\t\t\tcase 'image':\n\t\t\t\tcase 'video': {\n\t\t\t\t\tif (!record.props) {\n\t\t\t\t\t\tissues.push('no props in asset')\n\t\t\t\t\t\trecord.props = {\n\t\t\t\t\t\t\tw: 100,\n\t\t\t\t\t\t\th: 100,\n\t\t\t\t\t\t\tname: 'old_asset',\n\t\t\t\t\t\t\tisAnimated: false,\n\t\t\t\t\t\t\tmimeType: null,\n\t\t\t\t\t\t\tsrc: null,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!record.props.mimeType) {\n\t\t\t\t\t\tissues.push('no mimeType in asset props')\n\t\t\t\t\t\trecord.props.mimeType = 'image/png'\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!record.props.src) {\n\t\t\t\t\t\tissues.push('no src in asset props')\n\t\t\t\t\t\trecord.props.src = ''\n\t\t\t\t\t}\n\n\t\t\t\t\tif (record.props.isAnimated == null) {\n\t\t\t\t\t\tissues.push('no isAnimated in asset props')\n\t\t\t\t\t\trecord.props.isAnimated = false\n\t\t\t\t\t}\n\n\t\t\t\t\tif (record.props.name === undefined) {\n\t\t\t\t\t\trecord.props.name = 'asset'\n\t\t\t\t\t}\n\n\t\t\t\t\tif ('width' in record) {\n\t\t\t\t\t\tissues.push('width in asset')\n\t\t\t\t\t\trecord.props.w = record.width\n\t\t\t\t\t\tdelete record.width\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\t'width' in record.props &&\n\t\t\t\t\t\ttypeof record.props.width === 'number' &&\n\t\t\t\t\t\trecord.props.width\n\t\t\t\t\t) {\n\t\t\t\t\t\tissues.push('no w in asset props')\n\t\t\t\t\t\trecord.props.w = record.props.width\n\t\t\t\t\t\tdelete record.props.width\n\t\t\t\t\t}\n\n\t\t\t\t\tif ('height' in record) {\n\t\t\t\t\t\tissues.push('height in asset')\n\t\t\t\t\t\trecord.props.h = record.height\n\t\t\t\t\t\tdelete record.height\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t'height' in record.props &&\n\t\t\t\t\t\ttypeof record.props.height === 'number' &&\n\t\t\t\t\t\trecord.props.height\n\t\t\t\t\t) {\n\t\t\t\t\t\tissues.push('no h in asset props')\n\t\t\t\t\t\trecord.props.h = record.props.height\n\t\t\t\t\t\tdelete record.props.height\n\t\t\t\t\t}\n\t\t\t\t\tif (!record.props.w) {\n\t\t\t\t\t\tissues.push('no w in asset props')\n\t\t\t\t\t\trecord.props.w = 100\n\t\t\t\t\t}\n\t\t\t\t\tif (!record.props.h) {\n\t\t\t\t\t\tissues.push('no h in asset props')\n\t\t\t\t\t\trecord.props.h = 100\n\t\t\t\t\t}\n\n\t\t\t\t\tif ('src' in record) {\n\t\t\t\t\t\tissues.push('src in asset')\n\t\t\t\t\t\trecord.props.src = record.src\n\t\t\t\t\t\tdelete record.src\n\t\t\t\t\t}\n\n\t\t\t\t\tif ('name' in record) {\n\t\t\t\t\t\tissues.push('name in asset')\n\t\t\t\t\t\tdelete record.name\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tcase 'bookmark':\n\t\t\t\t\tif (!record.props) {\n\t\t\t\t\t\tissues.push('no asset props')\n\t\t\t\t\t\trecord.props = {\n\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\tdescription: '',\n\t\t\t\t\t\t\timage: '',\n\t\t\t\t\t\t\tsrc: 'url' in record && typeof record.url === 'string' ? record.url : '',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!record.props.title) {\n\t\t\t\t\t\tissues.push('no title in bookmark asset props')\n\t\t\t\t\t\trecord.props.title = ''\n\t\t\t\t\t}\n\t\t\t\t\tif (!record.props.description) {\n\t\t\t\t\t\tissues.push('no description in bookmark asset props')\n\t\t\t\t\t\trecord.props.description = ''\n\t\t\t\t\t}\n\t\t\t\t\tif (!record.props.image) {\n\t\t\t\t\t\tissues.push('no image in bookmark asset props')\n\t\t\t\t\t\trecord.props.image = ''\n\t\t\t\t\t}\n\n\t\t\t\t\tif ('src' in record) {\n\t\t\t\t\t\tissues.push('leftover src in bookmark asset')\n\t\t\t\t\t\tdelete record.src\n\t\t\t\t\t}\n\t\t\t\t\tif ('width' in record) {\n\t\t\t\t\t\tissues.push('leftover width in bookmark asset')\n\t\t\t\t\t\tdelete record.width\n\t\t\t\t\t}\n\t\t\t\t\tif ('height' in record) {\n\t\t\t\t\t\tissues.push('leftover height in bookmark asset')\n\t\t\t\t\t\tdelete record.height\n\t\t\t\t\t}\n\t\t\t\t\tif ('name' in record) {\n\t\t\t\t\t\tissues.push('leftover name in bookmark asset')\n\t\t\t\t\t\tdelete record.name\n\t\t\t\t\t}\n\n\t\t\t\t\tif ('meta' in record) {\n\t\t\t\t\t\tdelete record.meta\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t\tcase 'camera': {\n\t\t\tif (record.x === undefined || record.x === null) {\n\t\t\t\tissues.push('no x in camera')\n\t\t\t\trecord.x = 0\n\t\t\t}\n\t\t\tif (record.y === undefined || record.y === null) {\n\t\t\t\tissues.push('no y in camera')\n\t\t\t\trecord.y = 0\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t\tcase 'instance': {\n\t\t\tif ('props' in record) {\n\t\t\t\tissues.push('leftover props in instance')\n\t\t\t\tdelete record.props\n\t\t\t}\n\n\t\t\tif (record.isToolLocked === undefined) {\n\t\t\t\tissues.push('no isToolLocked in instance')\n\t\t\t\trecord.isToolLocked = false\n\t\t\t}\n\n\t\t\tif (record.propsForNextShape === undefined) {\n\t\t\t\tissues.push('no props in instance')\n\t\t\t\trecord.propsForNextShape = {\n\t\t\t\t\topacity: '1',\n\t\t\t\t\tcolor: 'black',\n\t\t\t\t\tdash: 'draw',\n\t\t\t\t\tfill: 'none',\n\t\t\t\t\tsize: 'm',\n\t\t\t\t\ticon: 'file',\n\t\t\t\t\tfont: 'draw',\n\t\t\t\t\talign: 'middle',\n\t\t\t\t\tgeo: 'rectangle',\n\t\t\t\t\tarrowheadStart: 'none',\n\t\t\t\t\tarrowheadEnd: 'arrow',\n\t\t\t\t\tspline: 'line',\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ('url' in record.propsForNextShape) {\n\t\t\t\tissues.push('leftover url in instance.propsForNextShape')\n\t\t\t\tdelete record.propsForNextShape.url\n\t\t\t}\n\n\t\t\tif ('lang' in record.propsForNextShape) {\n\t\t\t\tissues.push('leftover lang in instance.propsForNextShape')\n\t\t\t\tdelete record.propsForNextShape.lang\n\t\t\t}\n\n\t\t\tif (record.exportBackground === undefined) {\n\t\t\t\tissues.push(`no export background in ${record.typeName}`)\n\t\t\t\trecord.exportBackground = false\n\t\t\t}\n\t\t\tif (record.brush === undefined) {\n\t\t\t\tissues.push(`no brush in ${record.typeName}`)\n\t\t\t\trecord.brush = null\n\t\t\t}\n\t\t\tif (record.scribble === undefined) {\n\t\t\t\tissues.push(`no scribble in ${record.typeName}`)\n\t\t\t\trecord.scribble = null\n\t\t\t}\n\n\t\t\tif (record.dialog !== undefined) {\n\t\t\t\tissues.push(`no dialog in ${record.typeName}`)\n\t\t\t\tdelete record.dialog\n\t\t\t}\n\n\t\t\tif (record.screenBounds === undefined) {\n\t\t\t\tissues.push(`no screen bounds in ${record.typeName}`)\n\t\t\t\trecord.screenBounds = { x: 0, y: 0, w: 1080, h: 720 }\n\t\t\t}\n\n\t\t\tbreak\n\t\t}\n\t\tcase 'user': {\n\t\t\tif (!record.name) {\n\t\t\t\tissues.push(`no name in user`)\n\t\t\t\trecord.name = 'User'\n\t\t\t}\n\t\t\tif (!record.locale) {\n\t\t\t\tissues.push(`no locale in user`)\n\t\t\t\trecord.locale = 'en'\n\t\t\t}\n\t\t\tif ('cursor' in record) {\n\t\t\t\tissues.push('leftover cursor in user')\n\t\t\t\tdelete record.cursor\n\t\t\t}\n\t\t\tif ('color' in record) {\n\t\t\t\tissues.push('leftover color in user')\n\t\t\t\tdelete record.color\n\t\t\t}\n\t\t\tif ('brush' in record) {\n\t\t\t\tissues.push('leftover brush in user')\n\t\t\t\tdelete record.brush\n\t\t\t}\n\t\t\tif ('selectedIds' in record) {\n\t\t\t\tissues.push('leftover selectedIds in user')\n\t\t\t\tdelete record.selectedIds\n\t\t\t}\n\t\t\tif ('scribble' in record) {\n\t\t\t\tissues.push('leftover scribble in user')\n\t\t\t\tdelete record.scribble\n\t\t\t}\n\t\t\tif ('currentPageId' in record) {\n\t\t\t\tissues.push('leftover currentPageId in user')\n\t\t\t\tdelete record.currentPageId\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t\tcase 'user_document': {\n\t\t\tif (record.isMobileMode === undefined) {\n\t\t\t\tissues.push(`no ismobilemode in user document`)\n\t\t\t\trecord.isMobileMode = false\n\t\t\t}\n\n\t\t\tif (record.isSnapMode === undefined) {\n\t\t\t\tissues.push(`no issnapmode in user document`)\n\t\t\t\trecord.isSnapMode = false\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t\tcase 'shape': {\n\t\t\tif ('url' in record) {\n\t\t\t\tdelete record.url\n\t\t\t}\n\n\t\t\tif (record.x === undefined || record.x === null) {\n\t\t\t\tissues.push(`some bug in ${record.typeName} ${record.type}`)\n\t\t\t\trecord.x = 0\n\t\t\t}\n\t\t\tif (record.y === undefined || record.y === null) {\n\t\t\t\tissues.push(`some bug in ${record.typeName} ${record.type}`)\n\t\t\t\trecord.y = 0\n\t\t\t}\n\n\t\t\tif (record.type === 'image') {\n\t\t\t\tif (record.props.playing === undefined) {\n\t\t\t\t\tissues.push(`some bug in ${record.typeName} ${record.type}`)\n\t\t\t\t\trecord.props.playing = false\n\t\t\t\t}\n\n\t\t\t\tif ('loaded' in record.props) {\n\t\t\t\t\tdelete record.props.loaded\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (record.type === 'arrow') {\n\t\t\t\tif (record.props.start.type === 'binding') {\n\t\t\t\t\tif (\n\t\t\t\t\t\trecord.props.start.normalizedAnchor.x === undefined ||\n\t\t\t\t\t\trecord.props.start.normalizedAnchor.x === null\n\t\t\t\t\t) {\n\t\t\t\t\t\tissues.push(`some bug in ${record.typeName} ${record.type}`)\n\t\t\t\t\t\trecord.props.start.normalizedAnchor.x = 0\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\trecord.props.start.normalizedAnchor.y === undefined ||\n\t\t\t\t\t\trecord.props.start.normalizedAnchor.y === null\n\t\t\t\t\t) {\n\t\t\t\t\t\tissues.push(`some bug in ${record.typeName} ${record.type}`)\n\t\t\t\t\t\trecord.props.start.normalizedAnchor.y = 0\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (record.props.start.x === undefined || record.props.start.x === null) {\n\t\t\t\t\t\tissues.push(`some bug in ${record.typeName} ${record.type}`)\n\t\t\t\t\t\trecord.props.start.x = 0\n\t\t\t\t\t}\n\t\t\t\t\tif (record.props.start.y === undefined || record.props.start.y === null) {\n\t\t\t\t\t\tissues.push(`some bug in ${record.typeName} ${record.type}`)\n\t\t\t\t\t\trecord.props.start.y = 0\n\t\t\t\t\t}\n\t\t\t\t\tif ('boundShapeId' in record.props.start) {\n\t\t\t\t\t\tissues.push(`leftover bound shape id in arrow`)\n\t\t\t\t\t\tdelete record.props.start.boundShapeId\n\t\t\t\t\t}\n\t\t\t\t\tif ('normalizedAnchor' in record.props.start) {\n\t\t\t\t\t\tissues.push(`leftover normalize anchor in arrow`)\n\t\t\t\t\t\tdelete record.props.start.normalizedAnchor\n\t\t\t\t\t}\n\t\t\t\t\tif ('isExact' in record.props.start) {\n\t\t\t\t\t\tissues.push(`leftover isExact in arrow`)\n\t\t\t\t\t\tdelete record.props.start.isExact\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (record.props.end.type === 'binding') {\n\t\t\t\t\tif (\n\t\t\t\t\t\trecord.props.end.normalizedAnchor.x === undefined ||\n\t\t\t\t\t\trecord.props.end.normalizedAnchor.x === null\n\t\t\t\t\t) {\n\t\t\t\t\t\tissues.push(`some bug in ${record.typeName}  ${record.type}`)\n\t\t\t\t\t\trecord.props.end.normalizedAnchor.x = 0\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\trecord.props.end.normalizedAnchor.y === undefined ||\n\t\t\t\t\t\trecord.props.end.normalizedAnchor.y === null\n\t\t\t\t\t) {\n\t\t\t\t\t\tissues.push(`some bug in ${record.typeName} ${record.type}`)\n\t\t\t\t\t\trecord.props.end.normalizedAnchor.y = 0\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (record.props.end.x === undefined || record.props.end.x === null) {\n\t\t\t\t\t\tissues.push(`no x in arrow end`)\n\t\t\t\t\t\trecord.props.end.x = 0\n\t\t\t\t\t}\n\t\t\t\t\tif (record.props.end.y === undefined || record.props.end.y === null) {\n\t\t\t\t\t\tissues.push(`no y in arrow end`)\n\t\t\t\t\t\trecord.props.end.y = 0\n\t\t\t\t\t}\n\t\t\t\t\tif ('boundShapeId' in record.props.end) {\n\t\t\t\t\t\tissues.push(`leftover bound shape id in arrow`)\n\t\t\t\t\t\tdelete record.props.end.boundShapeId\n\t\t\t\t\t}\n\t\t\t\t\tif ('normalizedAnchor' in record.props.end) {\n\t\t\t\t\t\tissues.push(`leftover normalize anchor in arrow`)\n\t\t\t\t\t\tdelete record.props.end.normalizedAnchor\n\t\t\t\t\t}\n\t\t\t\t\tif ('isExact' in record.props.end) {\n\t\t\t\t\t\tissues.push(`leftover isExact in arrow`)\n\t\t\t\t\t\tdelete record.props.end.isExact\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\trecord.type === 'note' ||\n\t\t\t\trecord.type === 'video' ||\n\t\t\t\trecord.type === 'image' ||\n\t\t\t\trecord.type === 'geo' ||\n\t\t\t\trecord.type === 'bookmark'\n\t\t\t) {\n\t\t\t\tif (record.props.url === undefined) {\n\t\t\t\t\tissues.push(`missing url prop in ${record.type} shape`)\n\t\t\t\t\trecord.props.url = ''\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (record.type === 'bookmark') {\n\t\t\t\tif (record.props.assetId === undefined) {\n\t\t\t\t\tissues.push(`some bug in ${record.typeName}  ${record.type}`)\n\t\t\t\t\trecord.props.assetId = null\n\t\t\t\t}\n\n\t\t\t\tif ('src' in record) {\n\t\t\t\t\tissues.push(`leftover src in bookmark`)\n\t\t\t\t\tdelete record.src\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (record.type === 'geo') {\n\t\t\t\tif ('width' in record.props) {\n\t\t\t\t\tissues.push(`leftover width in geo`)\n\t\t\t\t\tdelete record.props.width\n\t\t\t\t}\n\t\t\t\tif ('height' in record.props) {\n\t\t\t\t\tissues.push(`leftover height in geo`)\n\t\t\t\t\tdelete record.props.height\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (record.type === 'draw') {\n\t\t\t\tif (record.props.segments === undefined) {\n\t\t\t\t\tissues.push(`some bug in ${record.typeName}  ${record.type}`)\n\t\t\t\t\trecord.props.segments = [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpoints: [\n\t\t\t\t\t\t\t\t{ x: 0, y: 0, z: 0.5 },\n\t\t\t\t\t\t\t\t{ x: 1, y: 1, z: 0.5 },\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\ttype: 'free',\n\t\t\t\t\t\t},\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\tfor (const segment of record.props.segments) {\n\t\t\t\t\tfor (const point of segment.points) {\n\t\t\t\t\t\tif (point.x === undefined || point.y === null) {\n\t\t\t\t\t\t\tissues.push(`some bug in ${record.typeName}`)\n\t\t\t\t\t\t\tpoint.x = 0\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (point.y === undefined || point.y === null) {\n\t\t\t\t\t\t\tissues.push(`some bug in ${record.typeName}`)\n\t\t\t\t\t\t\tpoint.y = 0\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ('points' in record.props) {\n\t\t\t\t\tdelete record.props.points\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (record.type === 'bookmark') {\n\t\t\t\tif ('loaded' in record.props) {\n\t\t\t\t\tissues.push('leftover loaded in bookmark')\n\t\t\t\t\tdelete record.props.loaded\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (record.type === 'draw') {\n\t\t\t\tif ('points' in record.props && record.props.segments === undefined) {\n\t\t\t\t\trecord.props.segments = [{ type: 'free', points: record.props.points as Vec2dModel[] }]\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (record.type === 'image') {\n\t\t\t\tif (record.props.w < 1) {\n\t\t\t\t\trecord.props.w = 1\n\t\t\t\t\tissues.push(`zero w image in ${record.typeName}`)\n\t\t\t\t}\n\t\t\t\tif (record.props.h < 1) {\n\t\t\t\t\trecord.props.h = 1\n\t\t\t\t\tissues.push(`zero h image in ${record.typeName}`)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (record.type === 'embed') {\n\t\t\t\tif ('loaded' in record.props) {\n\t\t\t\t\tissues.push('leftover loaded in embed')\n\t\t\t\t\tdelete record.props.loaded\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tbreak\n\t\t}\n\t\tcase undefined: {\n\t\t\trecord = null\n\t\t}\n\t}\n\n\t// Assign the new record into the store\n\treturn { record, issues }\n}\n"],
  "mappings": "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",
  "names": []
}
